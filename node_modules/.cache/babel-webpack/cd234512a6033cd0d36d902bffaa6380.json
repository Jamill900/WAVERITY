{"ast":null,"code":"import { ɵɵdefineInjectable, Injectable, Component, ViewChild, Input, NgModule } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/platform-browser';\nconst _c0 = [\"d1\"];\nconst _c1 = [\"d2\"];\nconst _c2 = [\"s\"];\nconst _c3 = [\"i1\"];\nconst _c4 = [\"i2\"];\nconst _c5 = [\"sb\"];\nlet NgxImageComparisonSliderService = /*#__PURE__*/(() => {\n  class NgxImageComparisonSliderService {\n    constructor() {}\n\n  }\n\n  NgxImageComparisonSliderService.ɵfac = function NgxImageComparisonSliderService_Factory(t) {\n    return new (t || NgxImageComparisonSliderService)();\n  };\n\n  NgxImageComparisonSliderService.ɵprov = ɵɵdefineInjectable({\n    factory: function NgxImageComparisonSliderService_Factory() {\n      return new NgxImageComparisonSliderService();\n    },\n    token: NgxImageComparisonSliderService,\n    providedIn: \"root\"\n  });\n  return NgxImageComparisonSliderService;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nconst separatorImages = {\n  black: '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',\n  white: 'iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QYQEiYIh6P+pgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAChElEQVR42u3dQVLDMBBEUTxF5f7nzQYuAEkcsDRSv79lEan7W3bsyBwfYdzv969Hf7/dbkdSHofis0U4lJ8twaH8bAlK+dmUCLIlIkA4hyM3+1rACuAaAAQAAUAAEAAEAAFAABAABAABQAAQAAQAAUAAEAAEAAFAABAABAABQAAQAATAcnyO+JBH+/TSXsnSLZtj5gSvnGz3zaGzchl6CjhTQtLLHDrlUh0miXlZVqcBJ0jTLZty5GevBNVtgDsL1DGfcuRnrwSl/GwJqlv5O98Y6nivoxz52StBKT9bgupUfsJzgavm+G4npfxsCUr52RKU8rMlKOVnS1DKz5aglJ8tQSk/W4JSfrYEx6jyRwc06xnFavkdKw3+TCGjBVg1u1pxAt3Gu3J2teIEOgW/ena1+lO9mePfITtbw8LZQoAZR+Iuv4ewAlgBQAAQAARYlhnPGHZ5rmEFSF8BVjd55vh3yK5WnkiHca+e3ZJPA18Jfcbj4BXzG/Z7gNFHyup7Fkf1UKMmaitZv/J//RZAgozyH34NJMH+5T+9D0CCvct/KgAJ9i7/JQFIsG/5LwtAgj3LPyUACfYr/7QAJNir/LcEIME+5b8twJUSYGwXNeuDE1eBK+b21w5q9gAwN/vqMhDMyby6DYhMYzOqrgNT3JiMq7OduD7b6jRQr4odn011mahXxc7JpjpM1Kti52UzLPifboJcObmVfhQ6OpspAozGfzJpcAoAAUAAEAAEAAFAABAABAABQAAQAAQAAUAAEAAEAAFAABAABAABQAAQAAQAAXARW2/K/K/tYTtvXrUCOAUg9ejfXgCvqwm/BvjrtUCCQDFHyFkJUlaPuCXymQhpp41vCXPA3GxbkbAAAAAASUVORK5CYII='\n};\nlet NgxImageComparisonSliderComponent = /*#__PURE__*/(() => {\n  class NgxImageComparisonSliderComponent {\n    constructor(sanitizer) {\n      this.sanitizer = sanitizer;\n      this.value = new Subject();\n      this.maxWidth = 600;\n      this.maxHeight = 400;\n      this.imageFit = 'cover';\n      this.sliderWidth = 5;\n      this.sliderColor = 'whitesmoke';\n      this.showSliderBall = true;\n      this.calcSliderBallDif = true;\n      this.sliderBallImageColor = 'black';\n      this.sliderBallImageSrc = '';\n      this.alt1 = 'sliderImage1';\n      this.alt2 = 'sliderImage2';\n      this.zIndexStart = 1000;\n      this.startPos = 'middle';\n      this.sliderShadow = true;\n      this.isDragging = false;\n    }\n\n    _setElementWidthHeight(x, w, h) {\n      x.nativeElement.style.height = h + 'px';\n      x.nativeElement.style.width = w + 'px';\n    }\n\n    _setElementStyle(x, attr, val) {\n      x.nativeElement.style[attr] = val;\n    }\n\n    _setElementStylesObj(x, styles) {\n      Object.keys(styles).forEach(k => {\n        this._setElementStyle(x, k, styles[k]);\n      });\n    }\n\n    _initValues() {\n      this.sliderBallSize = !!this.sliderBallSize ? this.sliderBallSize : this.sliderWidth * 4;\n      const sliderBallDif = this.showSliderBall && this.calcSliderBallDif ? this.sliderBallSize / 2 - this.sliderWidth / 2 : 0;\n      this.leftBorder = !!this.leftBorder && this.leftBorder > 0 ? this.leftBorder : sliderBallDif;\n      this.rightBorder = !!this.rightBorder && this.rightBorder < this.maxWidth ? this.rightBorder : this.maxWidth - this.sliderWidth - sliderBallDif;\n      this.sliderBallImageSrc = this.sanitizer.bypassSecurityTrustResourceUrl(`data:image/png;base64, ${separatorImages[this.sliderBallImageColor]}`);\n    }\n\n    _initStyles() {\n      // LEFT CONTAINER\n      this._setElementWidthHeight(this.div, this.maxWidth, this.maxHeight);\n\n      this._setElementStylesObj(this.div, {\n        zIndex: this.zIndexStart + 1\n      }); // RIGHT CONTAINER\n\n\n      this._setElementWidthHeight(this.div2, this.maxWidth, this.maxHeight);\n\n      this._setElementStylesObj(this.div2, {\n        top: -this.maxHeight * 2 + 'px',\n        marginBottom: -this.maxHeight * 2 + 'px',\n        zIndex: this.zIndexStart\n      }); // SLIDER\n\n\n      this._setElementWidthHeight(this.slider, this.sliderWidth, this.maxHeight);\n\n      this._setElementStylesObj(this.slider, {\n        top: -this.maxHeight + 'px',\n        backgroundColor: this.sliderColor,\n        zIndex: this.zIndexStart + 2,\n        boxShadow: this.sliderShadow ? '0 0 15px black' : 'none'\n      });\n\n      this._setElementWidthHeight(this.sliderBall, this.sliderBallSize, this.sliderBallSize);\n\n      this._setElementStylesObj(this.sliderBall, {\n        top: this.maxHeight / 2 - this.sliderBallSize / 2 + 'px',\n        left: this.sliderWidth / 2 - this.sliderBallSize / 2 + 'px',\n        borderRadius: this.sliderBallSize / 2 + 'px',\n        backgroundColor: this.sliderColor\n      }); // LEFT IMAGE\n\n\n      this._setElementWidthHeight(this.image, this.maxWidth, this.maxHeight); // RIGHT IMAGE\n\n\n      this._setElementWidthHeight(this.image2, this.maxWidth, this.maxHeight);\n\n      this._setElementStylesObj(this.image2, {\n        objectFit: this.imageFit\n      });\n    }\n\n    _initListeners() {\n      this.valueSub = this.value.subscribe(x => {\n        this.div.nativeElement.style.width = x + 'px';\n        this.slider.nativeElement.style.left = x + 'px';\n        this.image2.nativeElement.style.clip = 'rect(0px,2000px,2000px,' + x + 'px)';\n      });\n      let clickOffset = 0;\n      const divOffset = this.div.nativeElement.getBoundingClientRect().left;\n\n      const startListener = e => {\n        e.preventDefault();\n        console.log(e);\n        this.isDragging = true;\n\n        if (e instanceof MouseEvent) {\n          clickOffset = e.offsetX;\n        }\n      };\n\n      const moveListener = e => {\n        if (this.isDragging) {\n          if (e instanceof MouseEvent) {\n            e.preventDefault();\n          }\n\n          const clientX = e instanceof MouseEvent ? e.clientX : e.touches.item(0).clientX;\n          const newVal = clientX - clickOffset - divOffset;\n          this.value.next(Math.max(Math.min(newVal, this.rightBorder), this.leftBorder));\n        }\n      };\n\n      const endListener = e => {\n        this.isDragging = false;\n      };\n\n      this.slider.nativeElement.addEventListener('mousedown', startListener);\n      this.slider.nativeElement.addEventListener('touchstart', startListener);\n      window.addEventListener('mousemove', moveListener);\n      window.addEventListener('touchmove', moveListener);\n      window.addEventListener('mouseup', endListener);\n      window.addEventListener('touchend', endListener);\n    }\n\n    _initStartPos() {\n      let startVal;\n\n      switch (this.startPos) {\n        case 'leftBorder':\n          startVal = this.leftBorder;\n          break;\n\n        case 'middle':\n          startVal = this.maxWidth / 2 - this.sliderWidth / 2 - (this.showSliderBall ? this.sliderBallSize / 2 : 0);\n          break;\n\n        case 'rightBorder':\n          startVal = this.rightBorder;\n          break;\n\n        default:\n          startVal = this.startPos;\n          break;\n      }\n\n      this.value.next(startVal);\n    }\n\n    ngOnInit() {\n      this._initValues();\n    }\n\n    ngAfterViewInit() {\n      this._initStyles();\n\n      this._initListeners();\n\n      this._initStartPos();\n    }\n\n    ngOnDestroy() {\n      if (this.valueSub) {\n        this.valueSub.unsubscribe();\n      }\n    }\n\n  }\n\n  NgxImageComparisonSliderComponent.ɵfac = function NgxImageComparisonSliderComponent_Factory(t) {\n    return new (t || NgxImageComparisonSliderComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer));\n  };\n\n  NgxImageComparisonSliderComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: NgxImageComparisonSliderComponent,\n    selectors: [[\"ngx-image-comparison-slider\"]],\n    viewQuery: function NgxImageComparisonSliderComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n        ɵngcc0.ɵɵviewQuery(_c1, 5);\n        ɵngcc0.ɵɵviewQuery(_c2, 5);\n        ɵngcc0.ɵɵviewQuery(_c3, 5);\n        ɵngcc0.ɵɵviewQuery(_c4, 5);\n        ɵngcc0.ɵɵviewQuery(_c5, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.div = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.div2 = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.slider = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.image = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.image2 = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.sliderBall = _t.first);\n      }\n    },\n    inputs: {\n      maxWidth: \"maxWidth\",\n      maxHeight: \"maxHeight\",\n      imageFit: \"imageFit\",\n      sliderWidth: \"sliderWidth\",\n      sliderColor: \"sliderColor\",\n      showSliderBall: \"showSliderBall\",\n      calcSliderBallDif: \"calcSliderBallDif\",\n      sliderBallImageColor: \"sliderBallImageColor\",\n      alt1: \"alt1\",\n      alt2: \"alt2\",\n      zIndexStart: \"zIndexStart\",\n      startPos: \"startPos\",\n      sliderShadow: \"sliderShadow\",\n      sliderBallSize: \"sliderBallSize\",\n      leftBorder: \"leftBorder\",\n      rightBorder: \"rightBorder\",\n      src1: \"src1\",\n      src2: \"src2\"\n    },\n    decls: 13,\n    vars: 6,\n    consts: [[2, \"overflow\", \"hidden\"], [\"d1\", \"\"], [3, \"src\", \"alt\"], [\"i1\", \"\"], [2, \"position\", \"relative\", \"cursor\", \"col-resize\"], [\"s\", \"\"], [2, \"position\", \"absolute\", 3, \"hidden\"], [\"sb\", \"\"], [\"alt\", \"separate image\", \"width\", \"60%\", 2, \"left\", \"20%\", \"top\", \"20%\", \"position\", \"absolute\", 3, \"src\"], [2, \"overflow\", \"hidden\", \"position\", \"relative\"], [\"d2\", \"\"], [2, \"position\", \"absolute\", 3, \"src\", \"alt\"], [\"i2\", \"\"]],\n    template: function NgxImageComparisonSliderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0, 1);\n        ɵngcc0.ɵɵelement(2, \"img\", 2, 3);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(4, \"div\", 4, 5);\n        ɵngcc0.ɵɵelementStart(6, \"div\", 6, 7);\n        ɵngcc0.ɵɵelement(8, \"img\", 8);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(9, \"div\", 9, 10);\n        ɵngcc0.ɵɵelement(11, \"img\", 11, 12);\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"src\", ctx.src1, ɵngcc0.ɵɵsanitizeUrl)(\"alt\", ctx.alt1);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.showSliderBall);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"src\", ctx.sliderBallImageSrc, ɵngcc0.ɵɵsanitizeUrl);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"src\", ctx.src2, ɵngcc0.ɵɵsanitizeUrl)(\"alt\", ctx.alt2);\n      }\n    },\n    encapsulation: 2\n  });\n  return NgxImageComparisonSliderComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet NgxImageComparisonSliderModule = /*#__PURE__*/(() => {\n  class NgxImageComparisonSliderModule {}\n\n  NgxImageComparisonSliderModule.ɵfac = function NgxImageComparisonSliderModule_Factory(t) {\n    return new (t || NgxImageComparisonSliderModule)();\n  };\n\n  NgxImageComparisonSliderModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: NgxImageComparisonSliderModule\n  });\n  NgxImageComparisonSliderModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[]]\n  });\n  return NgxImageComparisonSliderModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxImageComparisonSliderModule, {\n    declarations: [NgxImageComparisonSliderComponent],\n    exports: [NgxImageComparisonSliderComponent]\n  });\n})();\n/*\r\n * Public API Surface of ngx-image-comparison-slider\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { NgxImageComparisonSliderComponent, NgxImageComparisonSliderModule, NgxImageComparisonSliderService }; //# sourceMappingURL=ngx-image-comparison-slider.js.map","map":null,"metadata":{},"sourceType":"module"}